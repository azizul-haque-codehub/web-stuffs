<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>

	<body>
		<style>
			main {
				width: 100%;
				height: 100vh;
				display: grid;
				place-items: center;
			}
		</style>
		<main>
			<div><button id="log-btn">Login with google</button></div>
		</main>
		<script>
			const logbtn = document.querySelector("#log-btn");
			function loginWithGoogle() {
				const googleAuthUrl =
					"https://accounts.google.com/o/oauth2/auth?client_id=YOUR_CLIENT_ID&redirect_uri=YOUR_REDIRECT_URI&response_type=token&scope=email profile";

				const authWindow = window.open(
					googleAuthUrl,
					"googleAuthPopup",
					"width=500,height=600",
				);

				const checkPopup = setInterval(() => {
					if (authWindow.closed) {
						clearInterval(checkPopup);
						window.alert("User has authenticated");
						console.log("User has authenticated");
						// Token processing logic
					}
				}, 1000);
			}
			logbtn.onclick = () => {
				loginWithGoogle();
			};
		</script>
	</body>
</html>
